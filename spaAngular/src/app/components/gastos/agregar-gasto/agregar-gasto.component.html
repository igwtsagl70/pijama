<div class="modal-md">
    <div mat-dialog-title class="mb-head">
        <div class="close-section">
            <a (click)="onNoClick()"><i class="material-icons">close</i></a>
        </div>
        <div class="title-section">
            <h5 *ngIf="isAgregar">Agregar gasto</h5>
            <h5 *ngIf="!isAgregar">Editar gasto</h5>
        </div>
        <div class="options-section" *ngIf="gastoForm.valid">
            <button mat-button color="primary" class="main-botton" (click)="guardar(gastoForm)" *ngIf="isAgregar">
                <i class="material-icons">done</i> Guardar
            </button>
            <button mat-button color="primary" class="main-botton" (click)="editar(gastoForm)" *ngIf="!isAgregar">
                <i class="material-icons">done</i> Editar
            </button>
        </div>
    </div>
    <mat-dialog-content>
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <div class="form-container container">
                        <form novalidate #gastoForm="ngForm">
                            <div class="row">
                                <div class="col-sm-12">
                                    <p class="subtitle">
                                        Datos generales
                                    </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-md-6 form-col">
                                    <mat-form-field>
                                        <mat-label>AÃ±o</mat-label>
                                        <mat-select [(ngModel)]="gasto.anio" name="anio" style="width: 100%" required>
                                            <mat-option *ngFor="let anio of anios" [value]="anio">{{anio}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12 col-md-6 form-col">
                                    <mat-form-field>
                                        <mat-label>Mes</mat-label>
                                        <mat-select [(ngModel)]="gasto.mes" name="mes" style="width: 100%" required>
                                            <mat-option *ngFor="let mes of meses" [value]="mes.key">{{mes.value}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-md-6 form-col">
                                    <mat-form-field>
                                        <mat-label>Tipo</mat-label>
                                        <mat-select [(ngModel)]="gasto.tipoGasto" name="tipo" style="width: 100%"
                                            (selectionChange)="setImporte()" required>
                                            <mat-option *ngFor="let tipo of tipos" [value]="tipo._id">{{tipo.nombre}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12 col-md-6 form-col">
                                    <div class="form-group">
                                        <mat-form-field class="input-disabled" appearance="outline" style="width: 100%">
                                            <mat-label>Importe</mat-label>
                                            <input type="number" maxlength="50" matInput placeholder="Importe"
                                                [(ngModel)]="gasto.importe" required #importe="ngModel" id="importe"
                                                name="importe" title="importe" min="0" max="999999">
                                            <span matSuffix class="matSuffixEmpty"></span>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-12 col-md-12 form-col">
                                    <div class="form-group">
                                        <!-- <mat-form-field class="input-disabled" appearance="outline" style="width: 100%">
                                                    <mat-label>Usuario(correo)</mat-label>
                                                    <input type="text" maxlength="100" matInput placeholder="Usuario(correo)" [(ngModel)]="usuario.user" required #nombre="ngModel" id="user" name="user" title="Nombre">
                                                    <span matSuffix class="matSuffixEmpty"></span>
                                                </mat-form-field> -->

                                        <mat-form-field title="Nota" class="input-textArea" appearance="outline"
                                            style="width: 100%">
                                            <textarea matInput #nota placeholder="Nota" maxlength="250"
                                                [(ngModel)]="gasto.nota" name="nota"></textarea>
                                            <span matSuffix class="matSuffixEmpty"></span>
                                            <mat-hint align="end">{{nota.value?.length || 0}}/250</mat-hint>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="isAgregar">
                                <div class="col-sm-12">
                                    <p class="subtitle">
                                        Archivo
                                    </p>
                                </div>
                            </div>
                            <div class="row" *ngIf="isAgregar">
                                <div class="col-sm-12 col-md-12 form-col">
                                    <app-file-input [name]="'archivo'" [ext]="fileExt"
                                        [placeholder]="'Adjuntar archivo'" (onChangeFile)="getFileInput($event)"
                                        title="Archivo"></app-file-input>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
    </mat-dialog-actions>
</div>